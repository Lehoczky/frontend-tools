import{a as v,f as g,O as y,o as l,m as u,W as x,X as b,u as V,M as N,Y as w,R as D,Z as h,S as k,V as T}from"./entry.7150ef7c.js";import{s as S,h as C,e as W}from"./index.d003c9c5.js";const _={class:"relative inline-block"},A=["inputmode"],B={key:0,class:"absolute right-6 top-1/2 -translate-y-1/2 text-lg leading-none"},M={inheritAttrs:!1},O=v({...M,__name:"NumberInput",props:{suffix:{default:void 0},modelValue:{default:void 0},inputmode:{default:"decimal"}},emits:["update:modelValue"],setup(s,{emit:i}){const a=s,o=g({get(){return a.modelValue==null?void 0:Number(a.modelValue)},set(e){const t=String(e);if(t===""){i("update:modelValue",void 0);return}if(m(t)||p(t))return;const n=t?Number(c(t)):void 0;isNaN(n)||i("update:modelValue",n)}}),{copy:r}=y();async function d(){if(o.value){const e=a.suffix??"";await r(o.value+e)}}const f=e=>{e.key==="ArrowDown"?(o.value=o.value===void 0?-1:o.value-1,e.preventDefault()):e.key==="ArrowUp"&&(o.value=o.value===void 0?1:o.value+1,e.preventDefault())},m=e=>e==="-",p=e=>S(e)&&C(e)&&W(e),c=e=>String(e).replace(",",".");return(e,t)=>(l(),u("div",_,[x(N("input",w(e.$attrs,{"onUpdate:modelValue":t[0]||(t[0]=n=>D(o)?o.value=n:null),inputmode:s.inputmode,type:"text",class:"w-full rounded-md bg-base-500 px-5 py-3 text-center !leading-none outline-none ring-gray-500 focus:ring",onKeydown:t[1]||(t[1]=n=>f(n)),onClick:t[2]||(t[2]=h(n=>d(),["ctrl"]))}),null,16,A),[[b,V(o)]]),s.suffix?(l(),u("div",B,k(s.suffix),1)):T("",!0)]))}});export{O as _};
