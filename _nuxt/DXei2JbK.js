import{f as y,g as v,m as b,o as i,c as u,x as N,y as x,h as V,a as h,z as w,s as D,A as k,t as T,n as _}from"./DVY5D2FB.js";import{s as A,h as C,e as S}from"./CESIKaDa.js";const B={class:"relative inline-block"},W=["inputmode"],E={key:0,class:"absolute right-6 top-1/2 -translate-y-1/2 text-lg leading-none"},K={inheritAttrs:!1},$=y({...K,__name:"NumberInput",props:{suffix:{default:void 0},modelValue:{default:void 0},inputmode:{default:"decimal"}},emits:["update:modelValue"],setup(l,{emit:r}){const o=l,a=r,n=v({get(){return o.modelValue==null?void 0:Number(o.modelValue)},set(e){const t=String(e);if(t===""){a("update:modelValue",void 0);return}if(p(t)||c(t))return;const s=t?Number(g(t)):void 0;Number.isNaN(s)||a("update:modelValue",s)}}),{copy:d}=b();async function f(){if(n.value){const e=o.suffix??"";await d(n.value+e)}}const m=e=>{e.key==="ArrowDown"?(n.value=n.value===void 0?-1:n.value-1,e.preventDefault()):e.key==="ArrowUp"&&(n.value=n.value===void 0?1:n.value+1,e.preventDefault())},p=e=>e==="-",c=e=>A(e)&&C(e)&&S(e),g=e=>String(e).replace(",",".");return(e,t)=>(i(),u("div",B,[N(h("input",w(e.$attrs,{"onUpdate:modelValue":t[0]||(t[0]=s=>D(n)?n.value=s:null),inputmode:e.inputmode,type:"text",class:"w-full rounded-md bg-base-500 px-5 py-3 text-center !leading-none outline-none ring-gray-500 focus:ring",onKeydown:t[1]||(t[1]=s=>m(s)),onClick:t[2]||(t[2]=k(s=>f(),["ctrl"]))}),null,16,W),[[x,V(n)]]),e.suffix?(i(),u("div",E,T(e.suffix),1)):_("",!0)]))}});export{$ as _};
